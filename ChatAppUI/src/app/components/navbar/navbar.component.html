<nav class="navbar">
  <div class="navbar-container">
    <div class="navbar-brand">
      <a routerLink="/home" class="brand-link">
        <span class="brand-icon">ðŸ’¬</span>
        <span class="brand-text">ChatApp</span>
      </a>
    </div>

    <div class="navbar-nav">
      <a routerLink="/home" routerLinkActive="active" class="nav-link">
        Home
      </a>

      @if (isAuthenticated()) {
      <a routerLink="/conversations" routerLinkActive="active" class="nav-link">
        Conversations
      </a>
      <a routerLink="/create-group" routerLinkActive="active" class="nav-link">
        Create Group
      </a>
      }

      <div class="auth-buttons">
        @if (!isAuthenticated()) {
        <a routerLink="/login" routerLinkActive="active" class="nav-link">
          Login
        </a>
        <a routerLink="/register" routerLinkActive="active" class="nav-link">
          Register
        </a>
        } @if (isAuthenticated()) {
        <div class="user-menu" [class.open]="isUserMenuOpen">
          <button
            type="button"
            class="btn user-button"
            (click)="toggleUserMenu($event)"
            aria-haspopup="true"
            [attr.aria-expanded]="isUserMenuOpen"
          >
            <span class="user-name">{{ "@" + userDisplayName }}</span>
            <span class="chevron" aria-hidden="true">â–¾</span>
          </button>

          @if (isUserMenuOpen) {
          <div class="dropdown" (click)="$event.stopPropagation()">
            <button type="button" class="dropdown-item" (click)="logout()">
              Logout
            </button>
          </div>
          }
        </div>
        }
      </div>
    </div>
  </div>
</nav>
